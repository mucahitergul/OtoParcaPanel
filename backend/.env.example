# Oto Parça Panel - Backend Environment Variables
# Bu dosyayı .env olarak kopyalayın ve değerleri güncelleyin

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL Database Settings
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_USERNAME=oto_user
DATABASE_PASSWORD=your_secure_database_password_here
DATABASE_NAME=oto_parca_panel
DATABASE_SCHEMA=public

# Database Connection Pool
DATABASE_MAX_CONNECTIONS=20
DATABASE_IDLE_TIMEOUT=30000
DATABASE_CONNECTION_TIMEOUT=2000
DATABASE_SSL=false

# Database Logging
DATABASE_LOGGING=false
DATABASE_LOG_QUERIES=false

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================

# Environment
NODE_ENV=development

# Server Configuration
PORT=3001
HOST=0.0.0.0

# Application Info
APP_NAME=Oto Parça Panel Backend
APP_VERSION=1.0.0
APP_DESCRIPTION=Otomotiv yedek parça stok ve fiyat takip sistemi - Backend API

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================

# JWT Configuration (Minimum 32 characters)
JWT_SECRET=your_super_secret_jwt_key_here_minimum_32_characters_required
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d
JWT_ISSUER=oto-parca-panel
JWT_AUDIENCE=oto-parca-panel-users

# Password Hashing
BCRYPT_ROUNDS=12

# API Keys
API_KEY_HEADER=X-API-Key
API_KEY_SECRET=your_api_key_secret_here

# =============================================================================
# CORS CONFIGURATION
# =============================================================================

# CORS Settings
FRONTEND_URL=http://localhost:3000
CORS_ORIGIN=http://localhost:3000,http://localhost:3001
CORS_METHODS=GET,HEAD,PUT,PATCH,POST,DELETE,OPTIONS
CORS_CREDENTIALS=true
CORS_MAX_AGE=86400

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

# Redis Cache Settings
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_TTL=3600
REDIS_MAX_RETRIES=3
REDIS_RETRY_DELAY=1000

# Session Store
SESSION_SECRET=your_session_secret_here_minimum_32_characters
SESSION_MAX_AGE=86400000
SESSION_SECURE=false
SESSION_HTTP_ONLY=true
SESSION_SAME_SITE=lax

# =============================================================================
# WOOCOMMERCE INTEGRATION
# =============================================================================

# WooCommerce API Settings
WOOCOMMERCE_URL=https://your-woocommerce-site.com
WOOCOMMERCE_CONSUMER_KEY=ck_your_consumer_key_here
WOOCOMMERCE_CONSUMER_SECRET=cs_your_consumer_secret_here
WOOCOMMERCE_VERSION=wc/v3
WOOCOMMERCE_TIMEOUT=30000
WOOCOMMERCE_VERIFY_SSL=true

# WooCommerce Sync Settings
WOOCOMMERCE_AUTO_SYNC=false
WOOCOMMERCE_SYNC_INTERVAL=3600000
WOOCOMMERCE_BATCH_SIZE=100
WOOCOMMERCE_MAX_RETRIES=3

# =============================================================================
# SCRAPER CONFIGURATION
# =============================================================================

# Python Scraper Settings
SCRAPER_HOST=localhost
SCRAPER_PORT=5000
SCRAPER_BASE_URL=http://localhost:5000
SCRAPER_TIMEOUT=30000
SCRAPER_RETRY_ATTEMPTS=3
SCRAPER_RETRY_DELAY=2000

# Scraper Rate Limiting
SCRAPER_RATE_LIMIT=100
SCRAPER_RATE_WINDOW=900000
SCRAPER_CONCURRENT_REQUESTS=5
SCRAPER_QUEUE_SIZE=1000

# Supplier Settings
SUPPLIER_DINAMIK_ENABLED=true
SUPPLIER_DINAMIK_URL=https://dinamik.com.tr
SUPPLIER_BASBUG_ENABLED=true
SUPPLIER_BASBUG_URL=https://basbug.com.tr
SUPPLIER_DOGUS_ENABLED=true
SUPPLIER_DOGUS_URL=https://dogus.com.tr

# =============================================================================
# FILE UPLOAD & STORAGE
# =============================================================================

# File Upload Settings
UPLOAD_MAX_SIZE=10485760
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,image/gif,application/pdf,text/csv,application/vnd.ms-excel
UPLOAD_DESTINATION=./uploads
UPLOAD_TEMP_DIR=./temp

# Static Files
STATIC_FILES_PATH=./public
STATIC_FILES_MAX_AGE=86400
STATIC_FILES_CACHE_CONTROL=public, max-age=86400

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================

# SMTP Settings
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
SMTP_TLS_REJECT_UNAUTHORIZED=false

# Email Templates
EMAIL_FROM_NAME=Oto Parça Panel
EMAIL_FROM_ADDRESS=noreply@otoparcapanel.com
EMAIL_REPLY_TO=support@otoparcapanel.com

# Email Queue
EMAIL_QUEUE_ENABLED=true
EMAIL_QUEUE_CONCURRENCY=5
EMAIL_QUEUE_DELAY=1000

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log Levels: error, warn, info, debug, verbose
LOG_LEVEL=info
LOG_FILE_ENABLED=true
LOG_FILE_PATH=./logs
LOG_FILE_MAX_SIZE=10485760
LOG_FILE_MAX_FILES=5
LOG_DATE_PATTERN=YYYY-MM-DD

# Console Logging
LOG_CONSOLE_ENABLED=true
LOG_CONSOLE_COLORIZE=true
LOG_CONSOLE_TIMESTAMP=true

# Request Logging
LOG_REQUESTS=true
LOG_REQUEST_BODY=false
LOG_RESPONSE_BODY=false

# =============================================================================
# RATE LIMITING
# =============================================================================

# Global Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false
RATE_LIMIT_SKIP_FAILED_REQUESTS=false

# Login Rate Limiting
LOGIN_RATE_LIMIT_WINDOW_MS=900000
LOGIN_RATE_LIMIT_MAX_ATTEMPTS=5
LOGIN_RATE_LIMIT_BLOCK_DURATION=3600000

# API Rate Limiting
API_RATE_LIMIT_WINDOW_MS=60000
API_RATE_LIMIT_MAX_REQUESTS=1000

# =============================================================================
# CACHE CONFIGURATION
# =============================================================================

# Application Cache
CACHE_TTL=3600
CACHE_MAX_ITEMS=1000
CACHE_CHECK_PERIOD=600
CACHE_USE_CLONES=false

# API Response Cache
API_CACHE_ENABLED=true
API_CACHE_TTL=300
API_CACHE_MAX_SIZE=100

# Query Cache
QUERY_CACHE_ENABLED=true
QUERY_CACHE_TTL=1800

# =============================================================================
# MONITORING & HEALTH
# =============================================================================

# Health Check
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_ENDPOINT=/health
HEALTH_CHECK_DATABASE=true
HEALTH_CHECK_REDIS=true
HEALTH_CHECK_SCRAPER=true

# Metrics
METRICS_ENABLED=false
METRICS_ENDPOINT=/metrics
METRICS_COLLECT_DEFAULT=true

# Performance Monitoring
PERFORMANCE_MONITORING=false
PERFORMANCE_SAMPLE_RATE=0.1
PERFORMANCE_SLOW_QUERY_THRESHOLD=1000

# =============================================================================
# API DOCUMENTATION
# =============================================================================

# Swagger/OpenAPI
SWAGGER_ENABLED=true
SWAGGER_PATH=/api/docs
SWAGGER_TITLE=Oto Parça Panel API
SWAGGER_DESCRIPTION=Otomotiv yedek parça stok ve fiyat takip sistemi API dokümantasyonu
SWAGGER_VERSION=1.0.0
SWAGGER_CONTACT_NAME=Oto Parça Panel Team
SWAGGER_CONTACT_EMAIL=support@otoparcapanel.com

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Security Headers
SECURITY_HEADERS_ENABLED=true
CSP_ENABLED=true
HSTS_ENABLED=false
HSTS_MAX_AGE=31536000
HSTS_INCLUDE_SUBDOMAINS=true

# Request Validation
VALIDATION_WHITELIST=true
VALIDATION_FORBID_NON_WHITELISTED=true
VALIDATION_TRANSFORM=true

# =============================================================================
# BUSINESS LOGIC
# =============================================================================

# Application Defaults
DEFAULT_CURRENCY=TRY
DEFAULT_LANGUAGE=tr
DEFAULT_TIMEZONE=Europe/Istanbul
DEFAULT_DATE_FORMAT=DD/MM/YYYY
DEFAULT_TIME_FORMAT=HH:mm:ss

# Pagination
DEFAULT_PAGE_SIZE=20
MAX_PAGE_SIZE=100
MAX_EXPORT_SIZE=10000

# Price Settings
PRICE_DECIMAL_PLACES=2
PRICE_ROUNDING_MODE=ROUND_HALF_UP
PRICE_UPDATE_THRESHOLD=0.01

# Stock Settings
STOCK_LOW_THRESHOLD=10
STOCK_CRITICAL_THRESHOLD=5
STOCK_AUTO_UPDATE=true

# =============================================================================
# THIRD PARTY INTEGRATIONS
# =============================================================================

# Sentry Error Tracking (Optional)
SENTRY_DSN=your_sentry_dsn_here
SENTRY_ENVIRONMENT=development
SENTRY_RELEASE=1.0.0
SENTRY_SAMPLE_RATE=1.0

# Google Analytics (Optional)
GOOGLE_ANALYTICS_ID=GA_MEASUREMENT_ID

# Slack Notifications (Optional)
SLACK_WEBHOOK_URL=your_slack_webhook_url
SLACK_CHANNEL=#alerts
SLACK_USERNAME=Oto Parça Panel Bot

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Development Tools
DEBUG_MODE=false
DEVELOPMENT_CORS=true
HOT_RELOAD=true
WATCH_MODE=true

# Database Seeding
SEED_DATABASE=false
SEED_ADMIN_EMAIL=admin@otoparcapanel.com
SEED_ADMIN_PASSWORD=admin123

# Testing
TEST_DATABASE_NAME=oto_parca_panel_test
TEST_TIMEOUT=30000

# =============================================================================
# PRODUCTION SETTINGS
# =============================================================================

# Production Optimizations
PRODUCTION_GZIP=true
PRODUCTION_CACHE_STATIC=true
PRODUCTION_MINIFY=true
PRODUCTION_CLUSTER_MODE=true

# SSL/TLS
SSL_ENABLED=false
SSL_CERT_PATH=./ssl/cert.pem
SSL_KEY_PATH=./ssl/key.pem

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================

# Database Backup
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_COMPRESSION=true
BACKUP_PATH=./backups

# S3 Backup (Optional)
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_REGION=eu-central-1
S3_BACKUP_BUCKET=oto-parca-panel-backups
S3_BACKUP_ENABLED=false

# =============================================================================
# NOTES
# =============================================================================

# 1. Bu dosyayı .env olarak kopyalayın
# 2. Tüm placeholder değerleri gerçek değerlerle değiştirin
# 3. Güvenlik için güçlü şifreler kullanın
# 4. Production ortamında DEBUG_MODE=false yapın
# 5. .env dosyasını asla version control'e eklemeyin
# 6. Düzenli olarak şifreleri değiştirin
# 7. SSL sertifikalarını production'da etkinleştirin